<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link href='https://fonts.googleapis.com/css?family=Architects+Daughter' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print">

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <title>django doberman by django-py</title>
  </head>

  <body>
    <header>
      <div class="inner">
        <h1>django doberman</h1>
        <h2>Django app that locks out users after too many failed login attempts </h2>
        <a href="https://github.com/django-py/django-doberman" class="button"><small>View project on</small> GitHub</a>
      </div>
    </header>

    <div id="content-wrapper">
      <div class="inner clearfix">
        <section id="main-content">
          <p><img src="https://raw.githubusercontent.com/nicchub/django-doberman/master/images/DjangoDoberman.png" alt="doberman">.</p>

<p><img src="https://img.shields.io/pypi/v/django-doberman.svg" alt="pypi">
<img src="https://travis-ci.org/django-py/django-doberman.svg?branch=master" alt="travis">
<img src="https://img.shields.io/pypi/dm/django-doberman.svg" alt="shield"></p>

<h3>
<a id="requirements" class="anchor" href="#requirements" aria-hidden="true"><span class="octicon octicon-link"></span></a>Requirements</h3>

<ul>
<li>Python =&gt; 2.7</li>
<li>Django =&gt; 1.7</li>
</ul>

<h3>
<a id="installation" class="anchor" href="#installation" aria-hidden="true"><span class="octicon octicon-link"></span></a>Installation</h3>

<ol>
<li>You can install the latest stable package running this command:</li>
</ol>

<pre><code>    $ pip install django-doberman
</code></pre>

<p>Also you can install the development version running this command::</p>

<pre><code>    $ pip install -e git+http://github.com/nicchub/django-doberman.git#egg=django_doberman-dev
</code></pre>

<ol>
<li>Add <code>doberman</code> to <code>INSTALLED_APPS</code> in your Django settings file</li>
</ol>

<pre><code>    INSTALLED_APPS = (
        ...

    'django.contrib.messages',

    'django.contrib.admin',
        ...

    'doberman',
)
</code></pre>

<ol>
<li>./manage.py migrate doberman || or sync your database</li>
</ol>

<h3>
<a id="development" class="anchor" href="#development" aria-hidden="true"><span class="octicon octicon-link"></span></a>Development</h3>

<p>You can contribute to this project forking it from github and sending pull requests.</p>

<h3>
<a id="running-tests" class="anchor" href="#running-tests" aria-hidden="true"><span class="octicon octicon-link"></span></a>Running tests</h3>

<p>Tests can be run, after you clone the repository and having django installed, like::</p>

<pre><code>    PYTHONPATH=$PYTHONPATH:$PWD django-admin.py test doberman --settings=doberman.tests.test_settings
</code></pre>

<h3>
<a id="doberman-options" class="anchor" href="#doberman-options" aria-hidden="true"><span class="octicon octicon-link"></span></a>Doberman options</h3>

<p>DOBERMAN_MAX_FAILED_ATTEMPTS</p>

<pre><code>    Default: ``10``.

    Number of max failed login attempt.
</code></pre>

<p>DOBERMAN_LOCKOUT_TIME</p>

<pre><code>    Default: ``600`` (10 minutes).

    Number of seconds after the failed login attempts are forgotten in seconds.
</code></pre>

<p>DOBERMAN_REAL_IP_ONLY</p>

<pre><code>    'Default': True

    Set to False if you are working on localhost or a development environment.
</code></pre>

<p>DOBERMAN_LOGIN_FORGOTTEN_SECONDS</p>

<pre><code>    Default: ``300``

    Timeout forgotten login attempts of user.
</code></pre>

<p>DOBERMAN_USERNAME_FORM_FIELD</p>

<pre><code>    Default: 'username'

    Field username form field, change when you are use a diferent "username", for example: 'email'.
</code></pre>

<p>DOBERMAN_LOCKOUT_TEMPLATE</p>

<pre><code>    Path to alternative lockout template.
</code></pre>

<p>DOBERMAN_MODEL</p>

<pre><code>    Default: 'doberman.FailedAccessAttempt'

    Allow to use a custom Model for tracking failed Access Attempts.
</code></pre>

<p>DOBERMAN_IP_META_PRECEDENCE_ORDER</p>

<pre><code>    Default: (

    'HTTP_X_FORWARDED_FOR',  # X-Forwarded-For: client, proxy1, proxy2

    'HTTP_CLIENT_IP',

    'HTTP_X_REAL_IP',

    'HTTP_X_FORWARDED',

    'HTTP_X_CLUSTER_CLIENT_IP',

    'HTTP_FORWARDED_FOR',

    'HTTP_FORWARDED',

    'HTTP_VIA',

    'REMOTE_ADDR',

    )

    This used for discovery the real IP, you can change the precedence order.
</code></pre>

<h3>
<a id="usage" class="anchor" href="#usage" aria-hidden="true"><span class="octicon octicon-link"></span></a>Usage</h3>

<p>Add <code>doberman.decorators.watch_login</code> decorator to your login view. Example::</p>

<pre><code>    class LoginView(FormView):
        template_name = 'example/login.html'
        form_class = AuthenticationForm

        @method_decorator(watch_login)
        def dispatch(self, request, *args, **kwargs):
            if request.user.is_authenticated():
                return redirect(settings.LOGIN_REDIRECT_URL)
            return super(LoginView, self).dispatch(request, *args, **kwargs)

        def form_valid(self, form):
            user = form.get_user()
            login(self.request, user)
            return super(LoginView, self).form_valid(form)

        def get_success_url(self):
            return reverse('logged_in')
</code></pre>

<h3>
<a id="authors-and-contributors" class="anchor" href="#authors-and-contributors" aria-hidden="true"><span class="octicon octicon-link"></span></a>Authors and Contributors</h3>

<ul>
<li>@nicchub | <a href="http://nicolasmendoza.org/">http://nicolasmendoza.org/</a>
</li>
</ul>
        </section>

        <aside id="sidebar">
          <a href="https://github.com/django-py/django-doberman/zipball/master" class="button">
            <small>Download</small>
            .zip file
          </a>
          <a href="https://github.com/django-py/django-doberman/tarball/master" class="button">
            <small>Download</small>
            .tar.gz file
          </a>

          <p class="repo-owner"><a href="https://github.com/django-py/django-doberman"></a> is maintained by <a href="https://github.com/django-py">django-py</a>.</p>

          <p>This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the Architect theme by <a href="https://twitter.com/jasonlong">Jason Long</a>.</p>
        </aside>
      </div>
    </div>

            <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
          </script>
          <script type="text/javascript">
            try {
              var pageTracker = _gat._getTracker("UA-63313841-1");
            pageTracker._trackPageview();
            } catch(err) {}
          </script>

  </body>
</html>
